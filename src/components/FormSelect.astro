---
interface Option {
	value: string;
	label: string;
	disabled?: boolean;
	selected?: boolean;
}

interface Props {
	name: string;
	placeholder?: string;
	required?: boolean;
	class?: string;
	options: Option[];
}

const {
	name,
	placeholder,
	required = false,
	class: className = "",
	options = [],
} = Astro.props;

const baseClass =
	"appearance-none text-[14px] md:text-base w-full px-4 py-3 border border-gray-300 rounded-[40px] focus:outline-none focus:ring-2 focus:ring-primary pr-10";
const combinedClass = `${baseClass} ${className}`;
---

<div class="relative">
  <select
    name={name}
    required={required}
    class={combinedClass}
  >
    {placeholder && 
      <option value="" disabled selected>{placeholder}</option>
    }
    {options.map(option => (
      <option 
        value={option.value} 
        disabled={option.disabled} 
        selected={option.selected}
      >
        {option.label}
      </option>
    ))}
  </select>
  <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
      <path d="M6 9.89429L12 15.8943L18 9.89429" stroke="#2B2B32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>
</div>
